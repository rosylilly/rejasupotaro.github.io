<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta content="IE=edge;chrome=1" http-equiv="X-UA-Compatible" />
    <title>ver 0.3.0をリリースしました - Rejasupoem</title><link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" /><link href="/stylesheets/all.css?1393717016" media="all" rel="stylesheet" type="text/css" /><link href="/images/favicon.ico" rel="icon" type="image/ico" />
  </head>
  <body>
    <link href="http://yandex.st/highlightjs/8.0/styles/solarized_light.min.css" rel="stylesheet" type="text/css" />
    <script src="http://yandex.st/highlightjs/8.0/highlight.min.js"></script>
    <script type="text/javascript">
      hljs.initHighlightingOnLoad();
    </script>
    <header class="header">
      <div class="header-inner"><a href="/">
        <div class="header-image">
          <img width="100" height="100" class="header-image-element" src="/images/rejasupotaro.jpg?1393717016" />
        </div>
        <div class="header-text">
          <h1 class="header-text-title">
            Rejasupoem
          </h1>
          <p class="header-text-description">
            deliver value to customers continuously or die;
          </p>
        </div></a>
        
      </div>
    </header>
    <hr />
    <div class="main">
      <div class="main-inner main-inner-single-article"><article class="main-article">
  <div class="main-article-header">
    <h1 class="main-article-header-title">
      ver 0.3.0をリリースしました
    </h1>
    <div class="main-article-header-date">
      2014-02-28
    </div>
  </div><p><img src="https://raw2.github.com/rejasupotaro/Rebuild/master/screenshot.png" alt=""></p>

<p>主な変更点は以下のとおりです。</p>

<ul>
<li>タイムライン画面がネイティブになりました</li>
<li>通知からエピソード詳細画面が開けるようになりました (<a href="https://twitter.com/hotchemi">@hotchemi</a>さんがやってくれました！)</li>
<li>ゲストのプロフィールを表示するようにしました</li>
<li>RSSの取得、エピソードのストリーミング、エピソードのダウンロード時にUserAgentを付けるようにしました</li>
</ul>

<h1>UserAgentを付けるようにしました</h1>

<p>まず一番大事な変更を紹介します。</p>

<p><blockquote class="twitter-tweet" lang="en"><a href="{% oembed https://twitter.com/miyagawa/status/439711500446359552 %}"></a></blockquote><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script></p>

<p>まだそんなにユーザー多くないと思って油断してたけど、バグがあるとmiyagawaさんに迷惑が掛かるということを思い出して、ああーっ、うちの子がすいませんと思いながら脳を高速で回転させながら、原因が分からなかったら一時的に公開を取り下げようなどと考えつつ、ひたすらデバッグしていました。</p>

<p><blockquote class="twitter-tweet" lang="en"><a href="{% oembed https://twitter.com/miyagawa/status/439722404101640192 %}"></a></blockquote><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script></p>

<p>しばらくしたら、どうやらNexus 5のChromeで何か問題があったらしいということが分かって、ああーっ、うちの子じゃなくて良かったーと、すごい焦りました。</p>

<p>デバッグしてるときにそういえばUAが付けていないと思って、何か問題が起こったときのためにUAを付けるようにしました。</p>

<p>UAの中身は下のようにしました。</p>

<pre><code>パッケージ名/バージョンコード; Android/OSバージョン; モデル名; キャリア名;
例. rejasupotaro.rebuild/3000; Android/18; SC-04E; NTT+DOCOMO;
</code></pre>

<h1>タイムライン画面がネイティブになりました</h1>

<p>今まではTiwtter WidgetをWebViewで無理やり表示していたのですが、iframeのイベントハンドリングに難があったので、ネイティブで実装し直しました。
急いで作ったのでまだ見た目がデフォルトのListViewのままだったり、TextViewのイベントが奪われてタップしづらかったり、色々あるので次バージョンで改善します。</p>

<h1>ゲストのプロフィールを表示するようにしました</h1>

<p>このアプリの目指しているところがコンテキストの共有だったりするので、誰が話してるとか、何を話してるとかを大切にしたいと思っています。</p>

<p>Show Notesについてはサムネイルを表示することで、クリック率が上がったんじゃないかなと思います(数字は取ってないので適当なことを言っています)。
そんな感じで、ゲストの情報を取得して表示するようにしました。</p>

<p><img src="https://dl.dropboxusercontent.com/u/54255753/blog/201403/guests.png" alt=""></p>

<p>UIはまだ作り途中なのですが、デザイン変更にあたって事例を調べていました。</p>

<p>下にずらっとスクリーンショットを並べたのですが、スクリーンショットは左から、</p>

<ul>
<li><a href="https://play.google.com/store/apps/details?id=au.com.shiftyjelly.pocketcasts">Pocket Casts</a></li>
<li><a href="https://play.google.com/store/apps/details?id=com.soundcloud.android">SoundCloud - Music &amp; Audio</a></li>
<li><a href="https://play.google.com/store/apps/details?id=com.sothree.umano">Umano : ニュースリスニング</a></li>
<li><a href="https://play.google.com/store/apps/details?id=com.google.android.music">Google Play Music</a></li>
<li><a href="https://play.google.com/store/apps/details?id=com.stitcher.app">Stitcher Radio</a></li>
<li><a href="https://play.google.com/store/apps/details?id=de.danoeh.antennapod">AntennaPod</a></li>
<li><a href="https://play.google.com/store/apps/details?id=com.bambuna.podcastaddict">Podcast Addict</a></li>
</ul>

<p>です。</p>

<h2>詳細画面</h2>

<p><img src="https://dl.dropboxusercontent.com/u/54255753/blog/201402/episode_detail.png" alt=""></p>

<h2>リスト画面</h2>

<p><img src="https://dl.dropboxusercontent.com/u/54255753/blog/201402/episode_list.png" alt=""></p>

<h2>ロックスクリーン</h2>

<p><img src="https://dl.dropboxusercontent.com/u/54255753/blog/201402/notification.png" alt=""></p>

<h2>通知</h2>

<p><img src="https://dl.dropboxusercontent.com/u/54255753/blog/201402/lock_screen.png" alt=""></p>

<p>全体的にSoundCloudのUIがよくできていて、見ている人が時間を指定してコメント付けられるようになっていて、これがまた操作感もよかったりして、ニコニコRebuildワンチャンと思いました。</p>

<h1>ver 1.0.0に向けて</h1>

<p><img src="https://dl.dropboxusercontent.com/u/54255753/blog/201403/paper_proto.png" alt=""></p>

<p>UIはこれ自体もまだプロトタイプなので、引き続き検討していきますが、ver 1.0.0に下で書いてあるようなことは実装したいです。</p>

<ul>
<li>エピソード詳細画面のUI改善</li>
<li>再生速度変更</li>
<li>ロックスクーンでの再生切り替え</li>
<li>タブレット対応</li>
<li>Transcriptのリンクの表示</li>
</ul>

<h1>コントリビューター様へ</h1>

<p>twitterのAPIを使うにあたってキーが必要だったのですが、それは公開できないのでGraldeの機能のproductFlavorsを使ってクラスを分けるようにしました。</p>

<p>僕の手元ではproductのTwitterApiClientで開発していて、このクラスの中にキーとかも入っています。
ただしproductはignoreしてて見れないようになっているので、開発を手伝ってくれるときはBuild VariantをstagingDebugにして、staging(実際にステージングなわけではないので名前が相応しくないですが)のTwitterApiClientを見るようにしてください。</p>

<p><img src="https://dl.dropboxusercontent.com/u/54255753/blog/201403/project_structure.png" width="300"></p>

<p>productとstagingで同じインタフェースにしていて、stagingの方はproductと同じ構造のダミーデータを返すようにしています。
GradleのpropertiesやbuildTypesで値だけを分けることもできたのですが、そうするとstagingで動かすために別途キーを用意しないといけなくなるので、今回はこのようにしました。</p>

<p>今後ともよろしくお願いします。</p>

<h1>リアリティと弾力</h1>

<p>日々数十万、数百万っていうユーザーを相手にしてると、数が多すぎて段々リアリティがなくなってしまうという問題があるのだけど、このアプリは結構知り合いとか、インターネット界隈の人が使ってると思うので、バグを直しているときもその人たちの顔が浮かんできて、すごいリアリティと緊張感がある。</p>

<p>一般的な話として、ユーザーからすると開発者の顔は見えないし、向こうに人がいるという感覚が薄いからレビューで辛辣なことを書いたりするし、一方で開発者は日々リアリティと弾力を失っていってユーザーの顔が薄れていくということがあると思う。
なので、開発者はいかにリアリティと弾力を失わないようにするかが大切だと思うし、僕はこのアプリを作ってるとそのことを思い出す。</p>

<p>開発者とユーザーの距離を縮めていければいいなと思うし、まずは開発者から歩み寄っていきたいと思うので、みんなのサブディスプレイにユーザーの笑顔をエンドレスで流すようにしたい。</p>

</article>
<p>
  <a class="twitter-share-button">"https://twitter.com/share" "Tweet"</a> 
  <script type="text/javascript">
    !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
  </script>
</p>
      </div>
    </div>
    <footer class="footer">
      <div class="footer-inner">
        <p class="footer-copyright">
          Copyright &copy; 2013 by <a target="_blank" href="http://twitter.com/rejasupotaro">@rejasupotaro</a>
        </p>
        <p class="footer-powers">
          Powered by <a href="https://github.com/r7kamura/r7kamura.github.io">Github</a> & <a href="https://github.com/r7kamura/sitespec">Sitespec</a>
        </p>
      </div>
    </footer>
  </body>
</html>